import{fileURLToPath as mt}from"node:url";import gt from"readline";import vt from"events";import V from"node:fs";import A from"node:path";import Z from"fs";import{exit as bt}from"node:process";var X={},Q,yt;function R(){if(yt)return Q;yt=1;const{FORCE_COLOR:e,NODE_DISABLE_COLORS:r,TERM:h}=process.env,t={enabled:!r&&h!=="dumb"&&e!=="0",reset:s(0,0),bold:s(1,22),dim:s(2,22),italic:s(3,23),underline:s(4,24),inverse:s(7,27),hidden:s(8,28),strikethrough:s(9,29),black:s(30,39),red:s(31,39),green:s(32,39),yellow:s(33,39),blue:s(34,39),magenta:s(35,39),cyan:s(36,39),white:s(37,39),gray:s(90,39),grey:s(90,39),bgBlack:s(40,49),bgRed:s(41,49),bgGreen:s(42,49),bgYellow:s(43,49),bgBlue:s(44,49),bgMagenta:s(45,49),bgCyan:s(46,49),bgWhite:s(47,49)};function l(v,n){let a=0,i,c="",p="";for(;a<v.length;a++)i=v[a],c+=i.open,p+=i.close,n.includes(i.close)&&(n=n.replace(i.rgx,i.close+i.open));return c+n+p}function g(v,n){let a={has:v,keys:n};return a.reset=t.reset.bind(a),a.bold=t.bold.bind(a),a.dim=t.dim.bind(a),a.italic=t.italic.bind(a),a.underline=t.underline.bind(a),a.inverse=t.inverse.bind(a),a.hidden=t.hidden.bind(a),a.strikethrough=t.strikethrough.bind(a),a.black=t.black.bind(a),a.red=t.red.bind(a),a.green=t.green.bind(a),a.yellow=t.yellow.bind(a),a.blue=t.blue.bind(a),a.magenta=t.magenta.bind(a),a.cyan=t.cyan.bind(a),a.white=t.white.bind(a),a.gray=t.gray.bind(a),a.grey=t.grey.bind(a),a.bgBlack=t.bgBlack.bind(a),a.bgRed=t.bgRed.bind(a),a.bgGreen=t.bgGreen.bind(a),a.bgYellow=t.bgYellow.bind(a),a.bgBlue=t.bgBlue.bind(a),a.bgMagenta=t.bgMagenta.bind(a),a.bgCyan=t.bgCyan.bind(a),a.bgWhite=t.bgWhite.bind(a),a}function s(v,n){let a={open:`\x1B[${v}m`,close:`\x1B[${n}m`,rgx:new RegExp(`\\x1b\\[${n}m`,"g")};return function(i){return this!==void 0&&this.has!==void 0?(this.has.includes(v)||(this.has.push(v),this.keys.push(a)),i===void 0?this:t.enabled?l(this.keys,i+""):i+""):i===void 0?g([v],[a]):t.enabled?l([a],i+""):i+""}}return Q=t,Q}var ee,wt;function Ui(){return wt||(wt=1,ee=(e,r)=>{if(!(e.meta&&e.name!=="escape")){if(e.ctrl){if(e.name==="a")return"first";if(e.name==="c"||e.name==="d")return"abort";if(e.name==="e")return"last";if(e.name==="g")return"reset"}if(r){if(e.name==="j")return"down";if(e.name==="k")return"up"}return e.name==="return"||e.name==="enter"?"submit":e.name==="backspace"?"delete":e.name==="delete"?"deleteForward":e.name==="abort"?"abort":e.name==="escape"?"exit":e.name==="tab"?"next":e.name==="pagedown"?"nextPage":e.name==="pageup"?"prevPage":e.name==="home"?"home":e.name==="end"?"end":e.name==="up"?"up":e.name==="down"?"down":e.name==="right"?"right":e.name==="left"?"left":!1}}),ee}var te,xt;function ie(){return xt||(xt=1,te=e=>{const r=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),h=new RegExp(r,"g");return typeof e=="string"?e.replace(h,""):e}),te}var re,St;function q(){if(St)return re;St=1;const e="\x1B",r=`${e}[`,h="\x07",t={to(s,v){return v?`${r}${v+1};${s+1}H`:`${r}${s+1}G`},move(s,v){let n="";return s<0?n+=`${r}${-s}D`:s>0&&(n+=`${r}${s}C`),v<0?n+=`${r}${-v}A`:v>0&&(n+=`${r}${v}B`),n},up:(s=1)=>`${r}${s}A`,down:(s=1)=>`${r}${s}B`,forward:(s=1)=>`${r}${s}C`,backward:(s=1)=>`${r}${s}D`,nextLine:(s=1)=>`${r}E`.repeat(s),prevLine:(s=1)=>`${r}F`.repeat(s),left:`${r}G`,hide:`${r}?25l`,show:`${r}?25h`,save:`${e}7`,restore:`${e}8`},l={up:(s=1)=>`${r}S`.repeat(s),down:(s=1)=>`${r}T`.repeat(s)},g={screen:`${r}2J`,up:(s=1)=>`${r}1J`.repeat(s),down:(s=1)=>`${r}J`.repeat(s),line:`${r}2K`,lineEnd:`${r}K`,lineStart:`${r}1K`,lines(s){let v="";for(let n=0;n<s;n++)v+=this.line+(n<s-1?t.up():"");return s&&(v+=t.left),v}};return re={cursor:t,scroll:l,erase:g,beep:h},re}var se,$t;function Bi(){if($t)return se;$t=1;function e(n,a){var i=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!i){if(Array.isArray(n)||(i=r(n))||a&&n&&typeof n.length=="number"){i&&(n=i);var c=0,p=function(){};return{s:p,n:function(){return c>=n.length?{done:!0}:{done:!1,value:n[c++]}},e:function(f){throw f},f:p}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,u=!1,y;return{s:function(){i=i.call(n)},n:function(){var f=i.next();return o=f.done,f},e:function(f){u=!0,y=f},f:function(){try{!o&&i.return!=null&&i.return()}finally{if(u)throw y}}}}function r(n,a){if(n){if(typeof n=="string")return h(n,a);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return h(n,a)}}function h(n,a){(a==null||a>n.length)&&(a=n.length);for(var i=0,c=new Array(a);i<a;i++)c[i]=n[i];return c}const t=ie(),l=q(),g=l.erase,s=l.cursor,v=n=>[...t(n)].length;return se=function(n,a){if(!a)return g.line+s.to(0);let i=0;const c=n.split(/\r?\n/);var p=e(c),o;try{for(p.s();!(o=p.n()).done;){let u=o.value;i+=1+Math.floor(Math.max(v(u)-1,0)/a)}}catch(u){p.e(u)}finally{p.f()}return g.lines(i)},se}var ne,Pt;function Mt(){if(Pt)return ne;Pt=1;const e={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},r={arrowUp:e.arrowUp,arrowDown:e.arrowDown,arrowLeft:e.arrowLeft,arrowRight:e.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"};return ne=process.platform==="win32"?r:e,ne}var oe,Tt;function Gi(){if(Tt)return oe;Tt=1;const e=R(),r=Mt(),h=Object.freeze({password:{scale:1,render:n=>"*".repeat(n.length)},emoji:{scale:2,render:n=>"\u{1F603}".repeat(n.length)},invisible:{scale:0,render:n=>""},default:{scale:1,render:n=>`${n}`}}),t=n=>h[n]||h.default,l=Object.freeze({aborted:e.red(r.cross),done:e.green(r.tick),exited:e.yellow(r.cross),default:e.cyan("?")});return oe={styles:h,render:t,symbols:l,symbol:(n,a,i)=>a?l.aborted:i?l.exited:n?l.done:l.default,delimiter:n=>e.gray(n?r.ellipsis:r.pointerSmall),item:(n,a)=>e.gray(n?a?r.pointerSmall:"+":r.line)},oe}var he,Ot;function Ji(){if(Ot)return he;Ot=1;const e=ie();return he=function(r,h){let t=String(e(r)||"").split(/\r?\n/);return h?t.map(l=>Math.ceil(l.length/h)).reduce((l,g)=>l+g):t.length},he}var le,Rt;function zi(){return Rt||(Rt=1,le=(e,r={})=>{const h=Number.isSafeInteger(parseInt(r.margin))?new Array(parseInt(r.margin)).fill(" ").join(""):r.margin||"",t=r.width;return(e||"").split(/\r?\n/g).map(l=>l.split(/\s+/g).reduce((g,s)=>(s.length+h.length>=t||g[g.length-1].length+s.length+1<t?g[g.length-1]+=` ${s}`:g.push(`${h}${s}`),g),[h]).join(`
`)).join(`
`)}),le}var ae,qt;function Wi(){return qt||(qt=1,ae=(e,r,h)=>{h=h||r;let t=Math.min(r-h,e-Math.floor(h/2));t<0&&(t=0);let l=Math.min(t+h,r);return{startIndex:t,endIndex:l}}),ae}var ue,Dt;function N(){return Dt||(Dt=1,ue={action:Ui(),clear:Bi(),style:Gi(),strip:ie(),figures:Mt(),lines:Ji(),wrap:zi(),entriesToDisplay:Wi()}),ue}var ce,Ct;function U(){if(Ct)return ce;Ct=1;const e=gt,r=N(),h=r.action,t=vt,l=q(),g=l.beep,s=l.cursor,v=R();class n extends t{constructor(i={}){super(),this.firstRender=!0,this.in=i.stdin||process.stdin,this.out=i.stdout||process.stdout,this.onRender=(i.onRender||(()=>{})).bind(this);const c=e.createInterface({input:this.in,escapeCodeTimeout:50});e.emitKeypressEvents(this.in,c),this.in.isTTY&&this.in.setRawMode(!0);const p=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,o=(u,y)=>{let m=h(y,p);m===!1?this._&&this._(u,y):typeof this[m]=="function"?this[m](y):this.bell()};this.close=()=>{this.out.write(s.show),this.in.removeListener("keypress",o),this.in.isTTY&&this.in.setRawMode(!1),c.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",o)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(g)}render(){this.onRender(v),this.firstRender&&(this.firstRender=!1)}}return ce=n,ce}var de,It;function Zi(){if(It)return de;It=1;function e(o,u,y,m,f,d,b){try{var x=o[d](b),w=x.value}catch(S){y(S);return}x.done?u(w):Promise.resolve(w).then(m,f)}function r(o){return function(){var u=this,y=arguments;return new Promise(function(m,f){var d=o.apply(u,y);function b(w){e(d,m,f,b,x,"next",w)}function x(w){e(d,m,f,b,x,"throw",w)}b(void 0)})}}const h=R(),t=U(),l=q(),g=l.erase,s=l.cursor,v=N(),n=v.style,a=v.clear,i=v.lines,c=v.figures;class p extends t{constructor(u={}){super(u),this.transform=n.render(u.style),this.scale=this.transform.scale,this.msg=u.message,this.initial=u.initial||"",this.validator=u.validate||(()=>!0),this.value="",this.errorMsg=u.error||"Please Enter A Valid Value",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.clear=a("",this.out.columns),this.render()}set value(u){!u&&this.initial?(this.placeholder=!0,this.rendered=h.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(u)),this._value=u,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var u=this;return r(function*(){let y=yield u.validator(u.value);typeof y=="string"&&(u.errorMsg=y,y=!1),u.error=!y})()}submit(){var u=this;return r(function*(){if(u.value=u.value||u.initial,u.cursorOffset=0,u.cursor=u.rendered.length,yield u.validate(),u.error){u.red=!0,u.fire(),u.render();return}u.done=!0,u.aborted=!1,u.fire(),u.render(),u.out.write(`
`),u.close()})()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(u){this.placeholder||(this.cursor=this.cursor+u,this.cursorOffset+=u)}_(u,y){let m=this.value.slice(0,this.cursor),f=this.value.slice(this.cursor);this.value=`${m}${u}${f}`,this.red=!1,this.cursor=this.placeholder?0:m.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let u=this.value.slice(0,this.cursor-1),y=this.value.slice(this.cursor);this.value=`${u}${y}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let u=this.value.slice(0,this.cursor),y=this.value.slice(this.cursor+1);this.value=`${u}${y}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(s.down(i(this.outputError,this.out.columns)-1)+a(this.outputError,this.out.columns)),this.out.write(a(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[n.symbol(this.done,this.aborted),h.bold(this.msg),n.delimiter(this.done),this.red?h.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((u,y,m)=>u+`
${m?" ":c.pointerSmall} ${h.red().italic(y)}`,"")),this.out.write(g.line+s.to(0)+this.outputText+s.save+this.outputError+s.restore+s.move(this.cursorOffset,0)))}}return de=p,de}var fe,_t;function Ki(){if(_t)return fe;_t=1;const e=R(),r=U(),h=N(),t=h.style,l=h.clear,g=h.figures,s=h.wrap,v=h.entriesToDisplay,n=q(),a=n.cursor;class i extends r{constructor(p={}){super(p),this.msg=p.message,this.hint=p.hint||"- Use arrow-keys. Return to submit.",this.warn=p.warn||"- This option is disabled",this.cursor=p.initial||0,this.choices=p.choices.map((o,u)=>(typeof o=="string"&&(o={title:o,value:u}),{title:o&&(o.title||o.value||o),value:o&&(o.value===void 0?u:o.value),description:o&&o.description,selected:o&&o.selected,disabled:o&&o.disabled})),this.optionsPerPage=p.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=l("",this.out.columns),this.render()}moveCursor(p){this.cursor=p,this.value=this.choices[p].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(p,o){if(p===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(a.hide):this.out.write(l(this.outputText,this.out.columns)),super.render();let p=v(this.cursor,this.choices.length,this.optionsPerPage),o=p.startIndex,u=p.endIndex;if(this.outputText=[t.symbol(this.done,this.aborted),e.bold(this.msg),t.delimiter(!1),this.done?this.selection.title:this.selection.disabled?e.yellow(this.warn):e.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let y=o;y<u;y++){let m,f,d="",b=this.choices[y];y===o&&o>0?f=g.arrowUp:y===u-1&&u<this.choices.length?f=g.arrowDown:f=" ",b.disabled?(m=this.cursor===y?e.gray().underline(b.title):e.strikethrough().gray(b.title),f=(this.cursor===y?e.bold().gray(g.pointer)+" ":"  ")+f):(m=this.cursor===y?e.cyan().underline(b.title):b.title,f=(this.cursor===y?e.cyan(g.pointer)+" ":"  ")+f,b.description&&this.cursor===y&&(d=` - ${b.description}`,(f.length+m.length+d.length>=this.out.columns||b.description.split(/\r?\n/).length>1)&&(d=`
`+s(b.description,{margin:3,width:this.out.columns})))),this.outputText+=`${f} ${m}${e.gray(d)}
`}}this.out.write(this.outputText)}}return fe=i,fe}var pe,jt;function Xi(){if(jt)return pe;jt=1;const e=R(),r=U(),h=N(),t=h.style,l=h.clear,g=q(),s=g.cursor,v=g.erase;class n extends r{constructor(i={}){super(i),this.msg=i.message,this.value=!!i.initial,this.active=i.active||"on",this.inactive=i.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(i,c){if(i===" ")this.value=!this.value;else if(i==="1")this.value=!0;else if(i==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(s.hide):this.out.write(l(this.outputText,this.out.columns)),super.render(),this.outputText=[t.symbol(this.done,this.aborted),e.bold(this.msg),t.delimiter(this.done),this.value?this.inactive:e.cyan().underline(this.inactive),e.gray("/"),this.value?e.cyan().underline(this.active):this.active].join(" "),this.out.write(v.line+s.to(0)+this.outputText))}}return pe=n,pe}var me,At;function H(){if(At)return me;At=1;class e{constructor({token:h,date:t,parts:l,locales:g}){this.token=h,this.date=t||new Date,this.parts=l||[this],this.locales=g||{}}up(){}down(){}next(){const h=this.parts.indexOf(this);return this.parts.find((t,l)=>l>h&&t instanceof e)}setTo(h){}prev(){let h=[].concat(this.parts).reverse();const t=h.indexOf(this);return h.find((l,g)=>g>t&&l instanceof e)}toString(){return String(this.date)}}return me=e,me}var ge,Et;function Qi(){if(Et)return ge;Et=1;const e=H();class r extends e{constructor(t={}){super(t)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let t=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?t.toUpperCase():t}}return ge=r,ge}var ve,kt;function er(){if(kt)return ve;kt=1;const e=H(),r=t=>(t=t%10,t===1?"st":t===2?"nd":t===3?"rd":"th");class h extends e{constructor(l={}){super(l)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(l){this.date.setDate(parseInt(l.substr(-2)))}toString(){let l=this.date.getDate(),g=this.date.getDay();return this.token==="DD"?String(l).padStart(2,"0"):this.token==="Do"?l+r(l):this.token==="d"?g+1:this.token==="ddd"?this.locales.weekdaysShort[g]:this.token==="dddd"?this.locales.weekdays[g]:l}}return ve=h,ve}var be,Ft;function tr(){if(Ft)return be;Ft=1;const e=H();class r extends e{constructor(t={}){super(t)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(t){this.date.setHours(parseInt(t.substr(-2)))}toString(){let t=this.date.getHours();return/h/.test(this.token)&&(t=t%12||12),this.token.length>1?String(t).padStart(2,"0"):t}}return be=r,be}var ye,Nt;function ir(){if(Nt)return ye;Nt=1;const e=H();class r extends e{constructor(t={}){super(t)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(t){this.date.setMilliseconds(parseInt(t.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}}return ye=r,ye}var we,Yt;function rr(){if(Yt)return we;Yt=1;const e=H();class r extends e{constructor(t={}){super(t)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(t){this.date.setMinutes(parseInt(t.substr(-2)))}toString(){let t=this.date.getMinutes();return this.token.length>1?String(t).padStart(2,"0"):t}}return we=r,we}var xe,Ht;function sr(){if(Ht)return xe;Ht=1;const e=H();class r extends e{constructor(t={}){super(t)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(t){t=parseInt(t.substr(-2))-1,this.date.setMonth(t<0?0:t)}toString(){let t=this.date.getMonth(),l=this.token.length;return l===2?String(t+1).padStart(2,"0"):l===3?this.locales.monthsShort[t]:l===4?this.locales.months[t]:String(t+1)}}return xe=r,xe}var Se,Lt;function nr(){if(Lt)return Se;Lt=1;const e=H();class r extends e{constructor(t={}){super(t)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(t){this.date.setSeconds(parseInt(t.substr(-2)))}toString(){let t=this.date.getSeconds();return this.token.length>1?String(t).padStart(2,"0"):t}}return Se=r,Se}var $e,Vt;function or(){if(Vt)return $e;Vt=1;const e=H();class r extends e{constructor(t={}){super(t)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(t){this.date.setFullYear(t.substr(-4))}toString(){let t=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?t.substr(-2):t}}return $e=r,$e}var Pe,Ut;function hr(){return Ut||(Ut=1,Pe={DatePart:H(),Meridiem:Qi(),Day:er(),Hours:tr(),Milliseconds:ir(),Minutes:rr(),Month:sr(),Seconds:nr(),Year:or()}),Pe}var Me,Bt;function lr(){if(Bt)return Me;Bt=1;function e($,P,O,_,D,C,F){try{var j=$[C](F),I=j.value}catch(z){O(z);return}j.done?P(I):Promise.resolve(I).then(_,D)}function r($){return function(){var P=this,O=arguments;return new Promise(function(_,D){var C=$.apply(P,O);function F(I){e(C,_,D,F,j,"next",I)}function j(I){e(C,_,D,F,j,"throw",I)}F(void 0)})}}const h=R(),t=U(),l=N(),g=l.style,s=l.clear,v=l.figures,n=q(),a=n.erase,i=n.cursor,c=hr(),p=c.DatePart,o=c.Meridiem,u=c.Day,y=c.Hours,m=c.Milliseconds,f=c.Minutes,d=c.Month,b=c.Seconds,x=c.Year,w=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,S={1:({token:$})=>$.replace(/\\(.)/g,"$1"),2:$=>new u($),3:$=>new d($),4:$=>new x($),5:$=>new o($),6:$=>new y($),7:$=>new f($),8:$=>new b($),9:$=>new m($)},T={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};class M extends t{constructor(P={}){super(P),this.msg=P.message,this.cursor=0,this.typed="",this.locales=Object.assign(T,P.locales),this._date=P.initial||new Date,this.errorMsg=P.error||"Please Enter A Valid Value",this.validator=P.validate||(()=>!0),this.mask=P.mask||"YYYY-MM-DD HH:mm:ss",this.clear=s("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(P){P&&this._date.setTime(P.getTime())}set mask(P){let O;for(this.parts=[];O=w.exec(P);){let D=O.shift(),C=O.findIndex(F=>F!=null);this.parts.push(C in S?S[C]({token:O[C]||D,date:this.date,parts:this.parts,locales:this.locales}):O[C]||D)}let _=this.parts.reduce((D,C)=>(typeof C=="string"&&typeof D[D.length-1]=="string"?D[D.length-1]+=C:D.push(C),D),[]);this.parts.splice(0),this.parts.push(..._),this.reset()}moveCursor(P){this.typed="",this.cursor=P,this.fire()}reset(){this.moveCursor(this.parts.findIndex(P=>P instanceof p)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var P=this;return r(function*(){let O=yield P.validator(P.value);typeof O=="string"&&(P.errorMsg=O,O=!1),P.error=!O})()}submit(){var P=this;return r(function*(){if(yield P.validate(),P.error){P.color="red",P.fire(),P.render();return}P.done=!0,P.aborted=!1,P.fire(),P.render(),P.out.write(`
`),P.close()})()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let P=this.parts[this.cursor].prev();if(P==null)return this.bell();this.moveCursor(this.parts.indexOf(P)),this.render()}right(){let P=this.parts[this.cursor].next();if(P==null)return this.bell();this.moveCursor(this.parts.indexOf(P)),this.render()}next(){let P=this.parts[this.cursor].next();this.moveCursor(P?this.parts.indexOf(P):this.parts.findIndex(O=>O instanceof p)),this.render()}_(P){/\d/.test(P)&&(this.typed+=P,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(i.hide):this.out.write(s(this.outputText,this.out.columns)),super.render(),this.outputText=[g.symbol(this.done,this.aborted),h.bold(this.msg),g.delimiter(!1),this.parts.reduce((P,O,_)=>P.concat(_===this.cursor&&!this.done?h.cyan().underline(O.toString()):O),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((P,O,_)=>P+`
${_?" ":v.pointerSmall} ${h.red().italic(O)}`,"")),this.out.write(a.line+i.to(0)+this.outputText))}}return Me=M,Me}var Te,Gt;function ar(){if(Gt)return Te;Gt=1;function e(m,f,d,b,x,w,S){try{var T=m[w](S),M=T.value}catch($){d($);return}T.done?f(M):Promise.resolve(M).then(b,x)}function r(m){return function(){var f=this,d=arguments;return new Promise(function(b,x){var w=m.apply(f,d);function S(M){e(w,b,x,S,T,"next",M)}function T(M){e(w,b,x,S,T,"throw",M)}S(void 0)})}}const h=R(),t=U(),l=q(),g=l.cursor,s=l.erase,v=N(),n=v.style,a=v.figures,i=v.clear,c=v.lines,p=/[0-9]/,o=m=>m!==void 0,u=(m,f)=>{let d=Math.pow(10,f);return Math.round(m*d)/d};class y extends t{constructor(f={}){super(f),this.transform=n.render(f.style),this.msg=f.message,this.initial=o(f.initial)?f.initial:"",this.float=!!f.float,this.round=f.round||2,this.inc=f.increment||1,this.min=o(f.min)?f.min:-1/0,this.max=o(f.max)?f.max:1/0,this.errorMsg=f.error||"Please Enter A Valid Value",this.validator=f.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(f){!f&&f!==0?(this.placeholder=!0,this.rendered=h.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${u(f,this.round)}`),this._value=u(f,this.round)),this.fire()}get value(){return this._value}parse(f){return this.float?parseFloat(f):parseInt(f)}valid(f){return f==="-"||f==="."&&this.float||p.test(f)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let f=this.value;this.value=f!==""?f:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var f=this;return r(function*(){let d=yield f.validator(f.value);typeof d=="string"&&(f.errorMsg=d,d=!1),f.error=!d})()}submit(){var f=this;return r(function*(){if(yield f.validate(),f.error){f.color="red",f.fire(),f.render();return}let d=f.value;f.value=d!==""?d:f.initial,f.done=!0,f.aborted=!1,f.error=!1,f.fire(),f.render(),f.out.write(`
`),f.close()})()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let f=this.value.toString();if(f.length===0)return this.bell();this.value=this.parse(f=f.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(f,d){if(!this.valid(f))return this.bell();const b=Date.now();if(b-this.lastHit>1e3&&(this.typed=""),this.typed+=f,this.lastHit=b,this.color="cyan",f===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(g.down(c(this.outputError,this.out.columns)-1)+i(this.outputError,this.out.columns)),this.out.write(i(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[n.symbol(this.done,this.aborted),h.bold(this.msg),n.delimiter(this.done),!this.done||!this.done&&!this.placeholder?h[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((f,d,b)=>f+`
${b?" ":a.pointerSmall} ${h.red().italic(d)}`,"")),this.out.write(s.line+g.to(0)+this.outputText+g.save+this.outputError+g.restore))}}return Te=y,Te}var Oe,Jt;function zt(){if(Jt)return Oe;Jt=1;const e=R(),r=q(),h=r.cursor,t=U(),l=N(),g=l.clear,s=l.figures,v=l.style,n=l.wrap,a=l.entriesToDisplay;class i extends t{constructor(p={}){super(p),this.msg=p.message,this.cursor=p.cursor||0,this.scrollIndex=p.cursor||0,this.hint=p.hint||"",this.warn=p.warn||"- This option is disabled -",this.minSelected=p.min,this.showMinError=!1,this.maxChoices=p.max,this.instructions=p.instructions,this.optionsPerPage=p.optionsPerPage||10,this.value=p.choices.map((o,u)=>(typeof o=="string"&&(o={title:o,value:u}),{title:o&&(o.title||o.value||o),description:o&&o.description,value:o&&(o.value===void 0?u:o.value),selected:o&&o.selected,disabled:o&&o.disabled})),this.clear=g("",this.out.columns),p.overrideRender||this.render()}reset(){this.value.map(p=>!p.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(p=>p.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){const p=this.value.filter(o=>o.selected);this.minSelected&&p.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(p=>p.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){const p=this.value[this.cursor];if(p.selected)p.selected=!1,this.render();else{if(p.disabled||this.value.filter(o=>o.selected).length>=this.maxChoices)return this.bell();p.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();const p=!this.value[this.cursor].selected;this.value.filter(o=>!o.disabled).forEach(o=>o.selected=p),this.render()}_(p,o){if(p===" ")this.handleSpaceToggle();else if(p==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${s.arrowUp}/${s.arrowDown}: Highlight option
    ${s.arrowLeft}/${s.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(p,o,u,y){const m=(o.selected?e.green(s.radioOn):s.radioOff)+" "+y+" ";let f,d;return o.disabled?f=p===u?e.gray().underline(o.title):e.strikethrough().gray(o.title):(f=p===u?e.cyan().underline(o.title):o.title,p===u&&o.description&&(d=` - ${o.description}`,(m.length+f.length+d.length>=this.out.columns||o.description.split(/\r?\n/).length>1)&&(d=`
`+n(o.description,{margin:m.length,width:this.out.columns})))),m+f+e.gray(d||"")}paginateOptions(p){if(p.length===0)return e.red("No matches for this query.");let o=a(this.cursor,p.length,this.optionsPerPage),u=o.startIndex,y=o.endIndex,m,f=[];for(let d=u;d<y;d++)d===u&&u>0?m=s.arrowUp:d===y-1&&y<p.length?m=s.arrowDown:m=" ",f.push(this.renderOption(this.cursor,p[d],d,m));return`
`+f.join(`
`)}renderOptions(p){return this.done?"":this.paginateOptions(p)}renderDoneOrInstructions(){if(this.done)return this.value.filter(o=>o.selected).map(o=>o.title).join(", ");const p=[e.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&p.push(e.yellow(this.warn)),p.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(h.hide),super.render();let p=[v.symbol(this.done,this.aborted),e.bold(this.msg),v.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(p+=e.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),p+=this.renderOptions(this.value),this.out.write(this.clear+p),this.clear=g(p,this.out.columns)}}return Oe=i,Oe}var Re,Wt;function ur(){if(Wt)return Re;Wt=1;function e(f,d,b,x,w,S,T){try{var M=f[S](T),$=M.value}catch(P){b(P);return}M.done?d($):Promise.resolve($).then(x,w)}function r(f){return function(){var d=this,b=arguments;return new Promise(function(x,w){var S=f.apply(d,b);function T($){e(S,x,w,T,M,"next",$)}function M($){e(S,x,w,T,M,"throw",$)}T(void 0)})}}const h=R(),t=U(),l=q(),g=l.erase,s=l.cursor,v=N(),n=v.style,a=v.clear,i=v.figures,c=v.wrap,p=v.entriesToDisplay,o=(f,d)=>f[d]&&(f[d].value||f[d].title||f[d]),u=(f,d)=>f[d]&&(f[d].title||f[d].value||f[d]),y=(f,d)=>{const b=f.findIndex(x=>x.value===d||x.title===d);return b>-1?b:void 0};class m extends t{constructor(d={}){super(d),this.msg=d.message,this.suggest=d.suggest,this.choices=d.choices,this.initial=typeof d.initial=="number"?d.initial:y(d.choices,d.initial),this.select=this.initial||d.cursor||0,this.i18n={noMatches:d.noMatches||"no matches found"},this.fallback=d.fallback||this.initial,this.clearFirst=d.clearFirst||!1,this.suggestions=[],this.input="",this.limit=d.limit||10,this.cursor=0,this.transform=n.render(d.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=a("",this.out.columns),this.complete(this.render),this.render()}set fallback(d){this._fb=Number.isSafeInteger(parseInt(d))?parseInt(d):d}get fallback(){let d;return typeof this._fb=="number"?d=this.choices[this._fb]:typeof this._fb=="string"&&(d={title:this._fb}),d||this._fb||{title:this.i18n.noMatches}}moveSelect(d){this.select=d,this.suggestions.length>0?this.value=o(this.suggestions,d):this.value=this.fallback.value,this.fire()}complete(d){var b=this;return r(function*(){const x=b.completing=b.suggest(b.input,b.choices),w=yield x;if(b.completing!==x)return;b.suggestions=w.map((T,M,$)=>({title:u($,M),value:o($,M),description:T.description})),b.completing=!1;const S=Math.max(w.length-1,0);b.moveSelect(Math.min(S,b.select)),d&&d()})()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(d,b){let x=this.input.slice(0,this.cursor),w=this.input.slice(this.cursor);this.input=`${x}${d}${w}`,this.cursor=x.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let d=this.input.slice(0,this.cursor-1),b=this.input.slice(this.cursor);this.input=`${d}${b}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let d=this.input.slice(0,this.cursor),b=this.input.slice(this.cursor+1);this.input=`${d}${b}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(d,b,x,w){let S,T=x?i.arrowUp:w?i.arrowDown:" ",M=b?h.cyan().underline(d.title):d.title;return T=(b?h.cyan(i.pointer)+" ":"  ")+T,d.description&&(S=` - ${d.description}`,(T.length+M.length+S.length>=this.out.columns||d.description.split(/\r?\n/).length>1)&&(S=`
`+c(d.description,{margin:3,width:this.out.columns}))),T+" "+M+h.gray(S||"")}render(){if(this.closed)return;this.firstRender?this.out.write(s.hide):this.out.write(a(this.outputText,this.out.columns)),super.render();let d=p(this.select,this.choices.length,this.limit),b=d.startIndex,x=d.endIndex;if(this.outputText=[n.symbol(this.done,this.aborted,this.exited),h.bold(this.msg),n.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){const w=this.suggestions.slice(b,x).map((S,T)=>this.renderOption(S,this.select===T+b,T===0&&b>0,T+b===x-1&&x<this.choices.length)).join(`
`);this.outputText+=`
`+(w||h.gray(this.fallback.title))}this.out.write(g.line+s.to(0)+this.outputText)}}return Re=m,Re}var qe,Zt;function cr(){if(Zt)return qe;Zt=1;const e=R(),r=q(),h=r.cursor,t=zt(),l=N(),g=l.clear,s=l.style,v=l.figures;class n extends t{constructor(i={}){i.overrideRender=!0,super(i),this.inputValue="",this.clear=g("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(i=>i.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){const i=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(p=>this.inputValue?!!(typeof p.title=="string"&&p.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof p.value=="string"&&p.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);const c=this.filteredOptions.findIndex(p=>p===i);this.cursor=c<0?0:c,this.render()}handleSpaceToggle(){const i=this.filteredOptions[this.cursor];if(i.selected)i.selected=!1,this.render();else{if(i.disabled||this.value.filter(c=>c.selected).length>=this.maxChoices)return this.bell();i.selected=!0,this.render()}}handleInputChange(i){this.inputValue=this.inputValue+i,this.updateFilteredOptions()}_(i,c){i===" "?this.handleSpaceToggle():this.handleInputChange(i)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${v.arrowUp}/${v.arrowDown}: Highlight option
    ${v.arrowLeft}/${v.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:e.gray("Enter something to filter")}
`}renderOption(i,c,p){let o;return c.disabled?o=i===p?e.gray().underline(c.title):e.strikethrough().gray(c.title):o=i===p?e.cyan().underline(c.title):c.title,(c.selected?e.green(v.radioOn):v.radioOff)+"  "+o}renderDoneOrInstructions(){if(this.done)return this.value.filter(c=>c.selected).map(c=>c.title).join(", ");const i=[e.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&i.push(e.yellow(this.warn)),i.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(h.hide),super.render();let i=[s.symbol(this.done,this.aborted),e.bold(this.msg),s.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(i+=e.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),i+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+i),this.clear=g(i,this.out.columns)}}return qe=n,qe}var De,Kt;function dr(){if(Kt)return De;Kt=1;const e=R(),r=U(),h=N(),t=h.style,l=h.clear,g=q(),s=g.erase,v=g.cursor;class n extends r{constructor(i={}){super(i),this.msg=i.message,this.value=i.initial,this.initialValue=!!i.initial,this.yesMsg=i.yes||"yes",this.yesOption=i.yesOption||"(Y/n)",this.noMsg=i.no||"no",this.noOption=i.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(i,c){return i.toLowerCase()==="y"?(this.value=!0,this.submit()):i.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(v.hide):this.out.write(l(this.outputText,this.out.columns)),super.render(),this.outputText=[t.symbol(this.done,this.aborted),e.bold(this.msg),t.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:e.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(s.line+v.to(0)+this.outputText))}}return De=n,De}var Ce,Xt;function fr(){return Xt||(Xt=1,Ce={TextPrompt:Zi(),SelectPrompt:Ki(),TogglePrompt:Xi(),DatePrompt:lr(),NumberPrompt:ar(),MultiselectPrompt:zt(),AutocompletePrompt:ur(),AutocompleteMultiselectPrompt:cr(),ConfirmPrompt:dr()}),Ce}var Qt;function pr(){return Qt||(Qt=1,function(e){const r=e,h=fr(),t=s=>s;function l(s,v,n={}){return new Promise((a,i)=>{const c=new h[s](v),p=n.onAbort||t,o=n.onSubmit||t,u=n.onExit||t;c.on("state",v.onState||t),c.on("submit",y=>a(o(y))),c.on("exit",y=>a(u(y))),c.on("abort",y=>i(p(y)))})}r.text=s=>l("TextPrompt",s),r.password=s=>(s.style="password",r.text(s)),r.invisible=s=>(s.style="invisible",r.text(s)),r.number=s=>l("NumberPrompt",s),r.date=s=>l("DatePrompt",s),r.confirm=s=>l("ConfirmPrompt",s),r.list=s=>{const v=s.separator||",";return l("TextPrompt",s,{onSubmit:n=>n.split(v).map(a=>a.trim())})},r.toggle=s=>l("TogglePrompt",s),r.select=s=>l("SelectPrompt",s),r.multiselect=s=>{s.choices=[].concat(s.choices||[]);const v=n=>n.filter(a=>a.selected).map(a=>a.value);return l("MultiselectPrompt",s,{onAbort:v,onSubmit:v})},r.autocompleteMultiselect=s=>{s.choices=[].concat(s.choices||[]);const v=n=>n.filter(a=>a.selected).map(a=>a.value);return l("AutocompleteMultiselectPrompt",s,{onAbort:v,onSubmit:v})};const g=(s,v)=>Promise.resolve(v.filter(n=>n.title.slice(0,s.length).toLowerCase()===s.toLowerCase()));r.autocomplete=s=>(s.suggest=s.suggest||g,s.choices=[].concat(s.choices||[]),l("AutocompletePrompt",s))}(X)),X}var Ie,ei;function mr(){if(ei)return Ie;ei=1;function e(m,f){var d=Object.keys(m);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(m);f&&(b=b.filter(function(x){return Object.getOwnPropertyDescriptor(m,x).enumerable})),d.push.apply(d,b)}return d}function r(m){for(var f=1;f<arguments.length;f++){var d=arguments[f]!=null?arguments[f]:{};f%2?e(Object(d),!0).forEach(function(b){h(m,b,d[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(d)):e(Object(d)).forEach(function(b){Object.defineProperty(m,b,Object.getOwnPropertyDescriptor(d,b))})}return m}function h(m,f,d){return f in m?Object.defineProperty(m,f,{value:d,enumerable:!0,configurable:!0,writable:!0}):m[f]=d,m}function t(m,f){var d=typeof Symbol<"u"&&m[Symbol.iterator]||m["@@iterator"];if(!d){if(Array.isArray(m)||(d=l(m))||f&&m&&typeof m.length=="number"){d&&(m=d);var b=0,x=function(){};return{s:x,n:function(){return b>=m.length?{done:!0}:{done:!1,value:m[b++]}},e:function($){throw $},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var w=!0,S=!1,T;return{s:function(){d=d.call(m)},n:function(){var $=d.next();return w=$.done,$},e:function($){S=!0,T=$},f:function(){try{!w&&d.return!=null&&d.return()}finally{if(S)throw T}}}}function l(m,f){if(m){if(typeof m=="string")return g(m,f);var d=Object.prototype.toString.call(m).slice(8,-1);if(d==="Object"&&m.constructor&&(d=m.constructor.name),d==="Map"||d==="Set")return Array.from(m);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return g(m,f)}}function g(m,f){(f==null||f>m.length)&&(f=m.length);for(var d=0,b=new Array(f);d<f;d++)b[d]=m[d];return b}function s(m,f,d,b,x,w,S){try{var T=m[w](S),M=T.value}catch($){d($);return}T.done?f(M):Promise.resolve(M).then(b,x)}function v(m){return function(){var f=this,d=arguments;return new Promise(function(b,x){var w=m.apply(f,d);function S(M){s(w,b,x,S,T,"next",M)}function T(M){s(w,b,x,S,T,"throw",M)}S(void 0)})}}const n=pr(),a=["suggest","format","onState","validate","onRender","type"],i=()=>{};function c(){return p.apply(this,arguments)}function p(){return p=v(function*(m=[],{onSubmit:f=i,onCancel:d=i}={}){const b={},x=c._override||{};m=[].concat(m);let w,S,T,M,$,P;const O=function(){var j=v(function*(I,z,pt=!1){if(!(!pt&&I.validate&&I.validate(z)!==!0))return I.format?yield I.format(z,b):z});return function(z,pt){return j.apply(this,arguments)}}();var _=t(m),D;try{for(_.s();!(D=_.n()).done;){S=D.value;var C=S;if(M=C.name,$=C.type,typeof $=="function"&&($=yield $(w,r({},b),S),S.type=$),!!$){for(let j in S){if(a.includes(j))continue;let I=S[j];S[j]=typeof I=="function"?yield I(w,r({},b),P):I}if(P=S,typeof S.message!="string")throw new Error("prompt message is required");var F=S;if(M=F.name,$=F.type,n[$]===void 0)throw new Error(`prompt type (${$}) is not defined`);if(x[S.name]!==void 0&&(w=yield O(S,x[S.name]),w!==void 0)){b[M]=w;continue}try{w=c._injected?o(c._injected,S.initial):yield n[$](S),b[M]=w=yield O(S,w,!0),T=yield f(S,w,b)}catch{T=!(yield d(S,b))}if(T)return b}}}catch(j){_.e(j)}finally{_.f()}return b}),p.apply(this,arguments)}function o(m,f){const d=m.shift();if(d instanceof Error)throw d;return d===void 0?f:d}function u(m){c._injected=(c._injected||[]).concat(m)}function y(m){c._override=Object.assign({},m)}return Ie=Object.assign(c,{prompt:c,prompts:n,inject:u,override:y}),Ie}var _e={},je,ti;function gr(){return ti||(ti=1,je=(e,r)=>{if(!(e.meta&&e.name!=="escape")){if(e.ctrl){if(e.name==="a")return"first";if(e.name==="c"||e.name==="d")return"abort";if(e.name==="e")return"last";if(e.name==="g")return"reset"}if(r){if(e.name==="j")return"down";if(e.name==="k")return"up"}return e.name==="return"||e.name==="enter"?"submit":e.name==="backspace"?"delete":e.name==="delete"?"deleteForward":e.name==="abort"?"abort":e.name==="escape"?"exit":e.name==="tab"?"next":e.name==="pagedown"?"nextPage":e.name==="pageup"?"prevPage":e.name==="home"?"home":e.name==="end"?"end":e.name==="up"?"up":e.name==="down"?"down":e.name==="right"?"right":e.name==="left"?"left":!1}}),je}var Ae,ii;function Ee(){return ii||(ii=1,Ae=e=>{const r=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),h=new RegExp(r,"g");return typeof e=="string"?e.replace(h,""):e}),Ae}var ke,ri;function vr(){if(ri)return ke;ri=1;const e=Ee(),{erase:r,cursor:h}=q(),t=l=>[...e(l)].length;return ke=function(l,g){if(!g)return r.line+h.to(0);let s=0;const v=l.split(/\r?\n/);for(let n of v)s+=1+Math.floor(Math.max(t(n)-1,0)/g);return r.lines(s)},ke}var Fe,si;function ni(){if(si)return Fe;si=1;const e={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},r={arrowUp:e.arrowUp,arrowDown:e.arrowDown,arrowLeft:e.arrowLeft,arrowRight:e.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"};return Fe=process.platform==="win32"?r:e,Fe}var Ne,oi;function br(){if(oi)return Ne;oi=1;const e=R(),r=ni(),h=Object.freeze({password:{scale:1,render:n=>"*".repeat(n.length)},emoji:{scale:2,render:n=>"\u{1F603}".repeat(n.length)},invisible:{scale:0,render:n=>""},default:{scale:1,render:n=>`${n}`}}),t=n=>h[n]||h.default,l=Object.freeze({aborted:e.red(r.cross),done:e.green(r.tick),exited:e.yellow(r.cross),default:e.cyan("?")});return Ne={styles:h,render:t,symbols:l,symbol:(n,a,i)=>a?l.aborted:i?l.exited:n?l.done:l.default,delimiter:n=>e.gray(n?r.ellipsis:r.pointerSmall),item:(n,a)=>e.gray(n?a?r.pointerSmall:"+":r.line)},Ne}var Ye,hi;function yr(){if(hi)return Ye;hi=1;const e=Ee();return Ye=function(r,h){let t=String(e(r)||"").split(/\r?\n/);return h?t.map(l=>Math.ceil(l.length/h)).reduce((l,g)=>l+g):t.length},Ye}var He,li;function wr(){return li||(li=1,He=(e,r={})=>{const h=Number.isSafeInteger(parseInt(r.margin))?new Array(parseInt(r.margin)).fill(" ").join(""):r.margin||"",t=r.width;return(e||"").split(/\r?\n/g).map(l=>l.split(/\s+/g).reduce((g,s)=>(s.length+h.length>=t||g[g.length-1].length+s.length+1<t?g[g.length-1]+=` ${s}`:g.push(`${h}${s}`),g),[h]).join(`
`)).join(`
`)}),He}var Le,ai;function xr(){return ai||(ai=1,Le=(e,r,h)=>{h=h||r;let t=Math.min(r-h,e-Math.floor(h/2));t<0&&(t=0);let l=Math.min(t+h,r);return{startIndex:t,endIndex:l}}),Le}var Ve,ui;function Y(){return ui||(ui=1,Ve={action:gr(),clear:vr(),style:br(),strip:Ee(),figures:ni(),lines:yr(),wrap:wr(),entriesToDisplay:xr()}),Ve}var Ue,ci;function B(){if(ci)return Ue;ci=1;const e=gt,{action:r}=Y(),h=vt,{beep:t,cursor:l}=q(),g=R();class s extends h{constructor(n={}){super(),this.firstRender=!0,this.in=n.stdin||process.stdin,this.out=n.stdout||process.stdout,this.onRender=(n.onRender||(()=>{})).bind(this);const a=e.createInterface({input:this.in,escapeCodeTimeout:50});e.emitKeypressEvents(this.in,a),this.in.isTTY&&this.in.setRawMode(!0);const i=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,c=(p,o)=>{let u=r(o,i);u===!1?this._&&this._(p,o):typeof this[u]=="function"?this[u](o):this.bell()};this.close=()=>{this.out.write(l.show),this.in.removeListener("keypress",c),this.in.isTTY&&this.in.setRawMode(!1),a.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",c)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(t)}render(){this.onRender(g),this.firstRender&&(this.firstRender=!1)}}return Ue=s,Ue}var Be,di;function Sr(){if(di)return Be;di=1;const e=R(),r=B(),{erase:h,cursor:t}=q(),{style:l,clear:g,lines:s,figures:v}=Y();class n extends r{constructor(i={}){super(i),this.transform=l.render(i.style),this.scale=this.transform.scale,this.msg=i.message,this.initial=i.initial||"",this.validator=i.validate||(()=>!0),this.value="",this.errorMsg=i.error||"Please Enter A Valid Value",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.clear=g("",this.out.columns),this.render()}set value(i){!i&&this.initial?(this.placeholder=!0,this.rendered=e.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(i)),this._value=i,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let i=await this.validator(this.value);typeof i=="string"&&(this.errorMsg=i,i=!1),this.error=!i}async submit(){if(this.value=this.value||this.initial,this.cursorOffset=0,this.cursor=this.rendered.length,await this.validate(),this.error){this.red=!0,this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(i){this.placeholder||(this.cursor=this.cursor+i,this.cursorOffset+=i)}_(i,c){let p=this.value.slice(0,this.cursor),o=this.value.slice(this.cursor);this.value=`${p}${i}${o}`,this.red=!1,this.cursor=this.placeholder?0:p.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let i=this.value.slice(0,this.cursor-1),c=this.value.slice(this.cursor);this.value=`${i}${c}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let i=this.value.slice(0,this.cursor),c=this.value.slice(this.cursor+1);this.value=`${i}${c}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(t.down(s(this.outputError,this.out.columns)-1)+g(this.outputError,this.out.columns)),this.out.write(g(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[l.symbol(this.done,this.aborted),e.bold(this.msg),l.delimiter(this.done),this.red?e.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((i,c,p)=>i+`
${p?" ":v.pointerSmall} ${e.red().italic(c)}`,"")),this.out.write(h.line+t.to(0)+this.outputText+t.save+this.outputError+t.restore+t.move(this.cursorOffset,0)))}}return Be=n,Be}var Ge,fi;function $r(){if(fi)return Ge;fi=1;const e=R(),r=B(),{style:h,clear:t,figures:l,wrap:g,entriesToDisplay:s}=Y(),{cursor:v}=q();class n extends r{constructor(i={}){super(i),this.msg=i.message,this.hint=i.hint||"- Use arrow-keys. Return to submit.",this.warn=i.warn||"- This option is disabled",this.cursor=i.initial||0,this.choices=i.choices.map((c,p)=>(typeof c=="string"&&(c={title:c,value:p}),{title:c&&(c.title||c.value||c),value:c&&(c.value===void 0?p:c.value),description:c&&c.description,selected:c&&c.selected,disabled:c&&c.disabled})),this.optionsPerPage=i.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=t("",this.out.columns),this.render()}moveCursor(i){this.cursor=i,this.value=this.choices[i].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(i,c){if(i===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(v.hide):this.out.write(t(this.outputText,this.out.columns)),super.render();let{startIndex:i,endIndex:c}=s(this.cursor,this.choices.length,this.optionsPerPage);if(this.outputText=[h.symbol(this.done,this.aborted),e.bold(this.msg),h.delimiter(!1),this.done?this.selection.title:this.selection.disabled?e.yellow(this.warn):e.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let p=i;p<c;p++){let o,u,y="",m=this.choices[p];p===i&&i>0?u=l.arrowUp:p===c-1&&c<this.choices.length?u=l.arrowDown:u=" ",m.disabled?(o=this.cursor===p?e.gray().underline(m.title):e.strikethrough().gray(m.title),u=(this.cursor===p?e.bold().gray(l.pointer)+" ":"  ")+u):(o=this.cursor===p?e.cyan().underline(m.title):m.title,u=(this.cursor===p?e.cyan(l.pointer)+" ":"  ")+u,m.description&&this.cursor===p&&(y=` - ${m.description}`,(u.length+o.length+y.length>=this.out.columns||m.description.split(/\r?\n/).length>1)&&(y=`
`+g(m.description,{margin:3,width:this.out.columns})))),this.outputText+=`${u} ${o}${e.gray(y)}
`}}this.out.write(this.outputText)}}return Ge=n,Ge}var Je,pi;function Pr(){if(pi)return Je;pi=1;const e=R(),r=B(),{style:h,clear:t}=Y(),{cursor:l,erase:g}=q();class s extends r{constructor(n={}){super(n),this.msg=n.message,this.value=!!n.initial,this.active=n.active||"on",this.inactive=n.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(n,a){if(n===" ")this.value=!this.value;else if(n==="1")this.value=!0;else if(n==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(l.hide):this.out.write(t(this.outputText,this.out.columns)),super.render(),this.outputText=[h.symbol(this.done,this.aborted),e.bold(this.msg),h.delimiter(this.done),this.value?this.inactive:e.cyan().underline(this.inactive),e.gray("/"),this.value?e.cyan().underline(this.active):this.active].join(" "),this.out.write(g.line+l.to(0)+this.outputText))}}return Je=s,Je}var ze,mi;function L(){if(mi)return ze;mi=1;class e{constructor({token:h,date:t,parts:l,locales:g}){this.token=h,this.date=t||new Date,this.parts=l||[this],this.locales=g||{}}up(){}down(){}next(){const h=this.parts.indexOf(this);return this.parts.find((t,l)=>l>h&&t instanceof e)}setTo(h){}prev(){let h=[].concat(this.parts).reverse();const t=h.indexOf(this);return h.find((l,g)=>g>t&&l instanceof e)}toString(){return String(this.date)}}return ze=e,ze}var We,gi;function Mr(){if(gi)return We;gi=1;const e=L();class r extends e{constructor(t={}){super(t)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let t=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?t.toUpperCase():t}}return We=r,We}var Ze,vi;function Tr(){if(vi)return Ze;vi=1;const e=L(),r=t=>(t=t%10,t===1?"st":t===2?"nd":t===3?"rd":"th");class h extends e{constructor(l={}){super(l)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(l){this.date.setDate(parseInt(l.substr(-2)))}toString(){let l=this.date.getDate(),g=this.date.getDay();return this.token==="DD"?String(l).padStart(2,"0"):this.token==="Do"?l+r(l):this.token==="d"?g+1:this.token==="ddd"?this.locales.weekdaysShort[g]:this.token==="dddd"?this.locales.weekdays[g]:l}}return Ze=h,Ze}var Ke,bi;function Or(){if(bi)return Ke;bi=1;const e=L();class r extends e{constructor(t={}){super(t)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(t){this.date.setHours(parseInt(t.substr(-2)))}toString(){let t=this.date.getHours();return/h/.test(this.token)&&(t=t%12||12),this.token.length>1?String(t).padStart(2,"0"):t}}return Ke=r,Ke}var Xe,yi;function Rr(){if(yi)return Xe;yi=1;const e=L();class r extends e{constructor(t={}){super(t)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(t){this.date.setMilliseconds(parseInt(t.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}}return Xe=r,Xe}var Qe,wi;function qr(){if(wi)return Qe;wi=1;const e=L();class r extends e{constructor(t={}){super(t)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(t){this.date.setMinutes(parseInt(t.substr(-2)))}toString(){let t=this.date.getMinutes();return this.token.length>1?String(t).padStart(2,"0"):t}}return Qe=r,Qe}var et,xi;function Dr(){if(xi)return et;xi=1;const e=L();class r extends e{constructor(t={}){super(t)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(t){t=parseInt(t.substr(-2))-1,this.date.setMonth(t<0?0:t)}toString(){let t=this.date.getMonth(),l=this.token.length;return l===2?String(t+1).padStart(2,"0"):l===3?this.locales.monthsShort[t]:l===4?this.locales.months[t]:String(t+1)}}return et=r,et}var tt,Si;function Cr(){if(Si)return tt;Si=1;const e=L();class r extends e{constructor(t={}){super(t)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(t){this.date.setSeconds(parseInt(t.substr(-2)))}toString(){let t=this.date.getSeconds();return this.token.length>1?String(t).padStart(2,"0"):t}}return tt=r,tt}var it,$i;function Ir(){if($i)return it;$i=1;const e=L();class r extends e{constructor(t={}){super(t)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(t){this.date.setFullYear(t.substr(-4))}toString(){let t=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?t.substr(-2):t}}return it=r,it}var rt,Pi;function _r(){return Pi||(Pi=1,rt={DatePart:L(),Meridiem:Mr(),Day:Tr(),Hours:Or(),Milliseconds:Rr(),Minutes:qr(),Month:Dr(),Seconds:Cr(),Year:Ir()}),rt}var st,Mi;function jr(){if(Mi)return st;Mi=1;const e=R(),r=B(),{style:h,clear:t,figures:l}=Y(),{erase:g,cursor:s}=q(),{DatePart:v,Meridiem:n,Day:a,Hours:i,Milliseconds:c,Minutes:p,Month:o,Seconds:u,Year:y}=_r(),m=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,f={1:({token:x})=>x.replace(/\\(.)/g,"$1"),2:x=>new a(x),3:x=>new o(x),4:x=>new y(x),5:x=>new n(x),6:x=>new i(x),7:x=>new p(x),8:x=>new u(x),9:x=>new c(x)},d={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};class b extends r{constructor(w={}){super(w),this.msg=w.message,this.cursor=0,this.typed="",this.locales=Object.assign(d,w.locales),this._date=w.initial||new Date,this.errorMsg=w.error||"Please Enter A Valid Value",this.validator=w.validate||(()=>!0),this.mask=w.mask||"YYYY-MM-DD HH:mm:ss",this.clear=t("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(w){w&&this._date.setTime(w.getTime())}set mask(w){let S;for(this.parts=[];S=m.exec(w);){let M=S.shift(),$=S.findIndex(P=>P!=null);this.parts.push($ in f?f[$]({token:S[$]||M,date:this.date,parts:this.parts,locales:this.locales}):S[$]||M)}let T=this.parts.reduce((M,$)=>(typeof $=="string"&&typeof M[M.length-1]=="string"?M[M.length-1]+=$:M.push($),M),[]);this.parts.splice(0),this.parts.push(...T),this.reset()}moveCursor(w){this.typed="",this.cursor=w,this.fire()}reset(){this.moveCursor(this.parts.findIndex(w=>w instanceof v)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let w=await this.validator(this.value);typeof w=="string"&&(this.errorMsg=w,w=!1),this.error=!w}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let w=this.parts[this.cursor].prev();if(w==null)return this.bell();this.moveCursor(this.parts.indexOf(w)),this.render()}right(){let w=this.parts[this.cursor].next();if(w==null)return this.bell();this.moveCursor(this.parts.indexOf(w)),this.render()}next(){let w=this.parts[this.cursor].next();this.moveCursor(w?this.parts.indexOf(w):this.parts.findIndex(S=>S instanceof v)),this.render()}_(w){/\d/.test(w)&&(this.typed+=w,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(s.hide):this.out.write(t(this.outputText,this.out.columns)),super.render(),this.outputText=[h.symbol(this.done,this.aborted),e.bold(this.msg),h.delimiter(!1),this.parts.reduce((w,S,T)=>w.concat(T===this.cursor&&!this.done?e.cyan().underline(S.toString()):S),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((w,S,T)=>w+`
${T?" ":l.pointerSmall} ${e.red().italic(S)}`,"")),this.out.write(g.line+s.to(0)+this.outputText))}}return st=b,st}var nt,Ti;function Ar(){if(Ti)return nt;Ti=1;const e=R(),r=B(),{cursor:h,erase:t}=q(),{style:l,figures:g,clear:s,lines:v}=Y(),n=/[0-9]/,a=p=>p!==void 0,i=(p,o)=>{let u=Math.pow(10,o);return Math.round(p*u)/u};class c extends r{constructor(o={}){super(o),this.transform=l.render(o.style),this.msg=o.message,this.initial=a(o.initial)?o.initial:"",this.float=!!o.float,this.round=o.round||2,this.inc=o.increment||1,this.min=a(o.min)?o.min:-1/0,this.max=a(o.max)?o.max:1/0,this.errorMsg=o.error||"Please Enter A Valid Value",this.validator=o.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(o){!o&&o!==0?(this.placeholder=!0,this.rendered=e.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${i(o,this.round)}`),this._value=i(o,this.round)),this.fire()}get value(){return this._value}parse(o){return this.float?parseFloat(o):parseInt(o)}valid(o){return o==="-"||o==="."&&this.float||n.test(o)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let o=this.value;this.value=o!==""?o:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let o=await this.validator(this.value);typeof o=="string"&&(this.errorMsg=o,o=!1),this.error=!o}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}let o=this.value;this.value=o!==""?o:this.initial,this.done=!0,this.aborted=!1,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let o=this.value.toString();if(o.length===0)return this.bell();this.value=this.parse(o=o.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(o,u){if(!this.valid(o))return this.bell();const y=Date.now();if(y-this.lastHit>1e3&&(this.typed=""),this.typed+=o,this.lastHit=y,this.color="cyan",o===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(h.down(v(this.outputError,this.out.columns)-1)+s(this.outputError,this.out.columns)),this.out.write(s(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[l.symbol(this.done,this.aborted),e.bold(this.msg),l.delimiter(this.done),!this.done||!this.done&&!this.placeholder?e[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((o,u,y)=>o+`
${y?" ":g.pointerSmall} ${e.red().italic(u)}`,"")),this.out.write(t.line+h.to(0)+this.outputText+h.save+this.outputError+h.restore))}}return nt=c,nt}var ot,Oi;function Ri(){if(Oi)return ot;Oi=1;const e=R(),{cursor:r}=q(),h=B(),{clear:t,figures:l,style:g,wrap:s,entriesToDisplay:v}=Y();class n extends h{constructor(i={}){super(i),this.msg=i.message,this.cursor=i.cursor||0,this.scrollIndex=i.cursor||0,this.hint=i.hint||"",this.warn=i.warn||"- This option is disabled -",this.minSelected=i.min,this.showMinError=!1,this.maxChoices=i.max,this.instructions=i.instructions,this.optionsPerPage=i.optionsPerPage||10,this.value=i.choices.map((c,p)=>(typeof c=="string"&&(c={title:c,value:p}),{title:c&&(c.title||c.value||c),description:c&&c.description,value:c&&(c.value===void 0?p:c.value),selected:c&&c.selected,disabled:c&&c.disabled})),this.clear=t("",this.out.columns),i.overrideRender||this.render()}reset(){this.value.map(i=>!i.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(i=>i.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){const i=this.value.filter(c=>c.selected);this.minSelected&&i.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(i=>i.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){const i=this.value[this.cursor];if(i.selected)i.selected=!1,this.render();else{if(i.disabled||this.value.filter(c=>c.selected).length>=this.maxChoices)return this.bell();i.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();const i=!this.value[this.cursor].selected;this.value.filter(c=>!c.disabled).forEach(c=>c.selected=i),this.render()}_(i,c){if(i===" ")this.handleSpaceToggle();else if(i==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${l.arrowUp}/${l.arrowDown}: Highlight option
    ${l.arrowLeft}/${l.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(i,c,p,o){const u=(c.selected?e.green(l.radioOn):l.radioOff)+" "+o+" ";let y,m;return c.disabled?y=i===p?e.gray().underline(c.title):e.strikethrough().gray(c.title):(y=i===p?e.cyan().underline(c.title):c.title,i===p&&c.description&&(m=` - ${c.description}`,(u.length+y.length+m.length>=this.out.columns||c.description.split(/\r?\n/).length>1)&&(m=`
`+s(c.description,{margin:u.length,width:this.out.columns})))),u+y+e.gray(m||"")}paginateOptions(i){if(i.length===0)return e.red("No matches for this query.");let{startIndex:c,endIndex:p}=v(this.cursor,i.length,this.optionsPerPage),o,u=[];for(let y=c;y<p;y++)y===c&&c>0?o=l.arrowUp:y===p-1&&p<i.length?o=l.arrowDown:o=" ",u.push(this.renderOption(this.cursor,i[y],y,o));return`
`+u.join(`
`)}renderOptions(i){return this.done?"":this.paginateOptions(i)}renderDoneOrInstructions(){if(this.done)return this.value.filter(c=>c.selected).map(c=>c.title).join(", ");const i=[e.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&i.push(e.yellow(this.warn)),i.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(r.hide),super.render();let i=[g.symbol(this.done,this.aborted),e.bold(this.msg),g.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(i+=e.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),i+=this.renderOptions(this.value),this.out.write(this.clear+i),this.clear=t(i,this.out.columns)}}return ot=n,ot}var ht,qi;function Er(){if(qi)return ht;qi=1;const e=R(),r=B(),{erase:h,cursor:t}=q(),{style:l,clear:g,figures:s,wrap:v,entriesToDisplay:n}=Y(),a=(o,u)=>o[u]&&(o[u].value||o[u].title||o[u]),i=(o,u)=>o[u]&&(o[u].title||o[u].value||o[u]),c=(o,u)=>{const y=o.findIndex(m=>m.value===u||m.title===u);return y>-1?y:void 0};class p extends r{constructor(u={}){super(u),this.msg=u.message,this.suggest=u.suggest,this.choices=u.choices,this.initial=typeof u.initial=="number"?u.initial:c(u.choices,u.initial),this.select=this.initial||u.cursor||0,this.i18n={noMatches:u.noMatches||"no matches found"},this.fallback=u.fallback||this.initial,this.clearFirst=u.clearFirst||!1,this.suggestions=[],this.input="",this.limit=u.limit||10,this.cursor=0,this.transform=l.render(u.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=g("",this.out.columns),this.complete(this.render),this.render()}set fallback(u){this._fb=Number.isSafeInteger(parseInt(u))?parseInt(u):u}get fallback(){let u;return typeof this._fb=="number"?u=this.choices[this._fb]:typeof this._fb=="string"&&(u={title:this._fb}),u||this._fb||{title:this.i18n.noMatches}}moveSelect(u){this.select=u,this.suggestions.length>0?this.value=a(this.suggestions,u):this.value=this.fallback.value,this.fire()}async complete(u){const y=this.completing=this.suggest(this.input,this.choices),m=await y;if(this.completing!==y)return;this.suggestions=m.map((d,b,x)=>({title:i(x,b),value:a(x,b),description:d.description})),this.completing=!1;const f=Math.max(m.length-1,0);this.moveSelect(Math.min(f,this.select)),u&&u()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(u,y){let m=this.input.slice(0,this.cursor),f=this.input.slice(this.cursor);this.input=`${m}${u}${f}`,this.cursor=m.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let u=this.input.slice(0,this.cursor-1),y=this.input.slice(this.cursor);this.input=`${u}${y}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let u=this.input.slice(0,this.cursor),y=this.input.slice(this.cursor+1);this.input=`${u}${y}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(u,y,m,f){let d,b=m?s.arrowUp:f?s.arrowDown:" ",x=y?e.cyan().underline(u.title):u.title;return b=(y?e.cyan(s.pointer)+" ":"  ")+b,u.description&&(d=` - ${u.description}`,(b.length+x.length+d.length>=this.out.columns||u.description.split(/\r?\n/).length>1)&&(d=`
`+v(u.description,{margin:3,width:this.out.columns}))),b+" "+x+e.gray(d||"")}render(){if(this.closed)return;this.firstRender?this.out.write(t.hide):this.out.write(g(this.outputText,this.out.columns)),super.render();let{startIndex:u,endIndex:y}=n(this.select,this.choices.length,this.limit);if(this.outputText=[l.symbol(this.done,this.aborted,this.exited),e.bold(this.msg),l.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){const m=this.suggestions.slice(u,y).map((f,d)=>this.renderOption(f,this.select===d+u,d===0&&u>0,d+u===y-1&&y<this.choices.length)).join(`
`);this.outputText+=`
`+(m||e.gray(this.fallback.title))}this.out.write(h.line+t.to(0)+this.outputText)}}return ht=p,ht}var lt,Di;function kr(){if(Di)return lt;Di=1;const e=R(),{cursor:r}=q(),h=Ri(),{clear:t,style:l,figures:g}=Y();class s extends h{constructor(n={}){n.overrideRender=!0,super(n),this.inputValue="",this.clear=t("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(n=>n.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){const n=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(i=>this.inputValue?!!(typeof i.title=="string"&&i.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof i.value=="string"&&i.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);const a=this.filteredOptions.findIndex(i=>i===n);this.cursor=a<0?0:a,this.render()}handleSpaceToggle(){const n=this.filteredOptions[this.cursor];if(n.selected)n.selected=!1,this.render();else{if(n.disabled||this.value.filter(a=>a.selected).length>=this.maxChoices)return this.bell();n.selected=!0,this.render()}}handleInputChange(n){this.inputValue=this.inputValue+n,this.updateFilteredOptions()}_(n,a){n===" "?this.handleSpaceToggle():this.handleInputChange(n)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${g.arrowUp}/${g.arrowDown}: Highlight option
    ${g.arrowLeft}/${g.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:e.gray("Enter something to filter")}
`}renderOption(n,a,i){let c;return a.disabled?c=n===i?e.gray().underline(a.title):e.strikethrough().gray(a.title):c=n===i?e.cyan().underline(a.title):a.title,(a.selected?e.green(g.radioOn):g.radioOff)+"  "+c}renderDoneOrInstructions(){if(this.done)return this.value.filter(a=>a.selected).map(a=>a.title).join(", ");const n=[e.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&n.push(e.yellow(this.warn)),n.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(r.hide),super.render();let n=[l.symbol(this.done,this.aborted),e.bold(this.msg),l.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(n+=e.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),n+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+n),this.clear=t(n,this.out.columns)}}return lt=s,lt}var at,Ci;function Fr(){if(Ci)return at;Ci=1;const e=R(),r=B(),{style:h,clear:t}=Y(),{erase:l,cursor:g}=q();class s extends r{constructor(n={}){super(n),this.msg=n.message,this.value=n.initial,this.initialValue=!!n.initial,this.yesMsg=n.yes||"yes",this.yesOption=n.yesOption||"(Y/n)",this.noMsg=n.no||"no",this.noOption=n.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(n,a){return n.toLowerCase()==="y"?(this.value=!0,this.submit()):n.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(g.hide):this.out.write(t(this.outputText,this.out.columns)),super.render(),this.outputText=[h.symbol(this.done,this.aborted),e.bold(this.msg),h.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:e.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(l.line+g.to(0)+this.outputText))}}return at=s,at}var ut,Ii;function Nr(){return Ii||(Ii=1,ut={TextPrompt:Sr(),SelectPrompt:$r(),TogglePrompt:Pr(),DatePrompt:jr(),NumberPrompt:Ar(),MultiselectPrompt:Ri(),AutocompletePrompt:Er(),AutocompleteMultiselectPrompt:kr(),ConfirmPrompt:Fr()}),ut}var _i;function Yr(){return _i||(_i=1,function(e){const r=e,h=Nr(),t=s=>s;function l(s,v,n={}){return new Promise((a,i)=>{const c=new h[s](v),p=n.onAbort||t,o=n.onSubmit||t,u=n.onExit||t;c.on("state",v.onState||t),c.on("submit",y=>a(o(y))),c.on("exit",y=>a(u(y))),c.on("abort",y=>i(p(y)))})}r.text=s=>l("TextPrompt",s),r.password=s=>(s.style="password",r.text(s)),r.invisible=s=>(s.style="invisible",r.text(s)),r.number=s=>l("NumberPrompt",s),r.date=s=>l("DatePrompt",s),r.confirm=s=>l("ConfirmPrompt",s),r.list=s=>{const v=s.separator||",";return l("TextPrompt",s,{onSubmit:n=>n.split(v).map(a=>a.trim())})},r.toggle=s=>l("TogglePrompt",s),r.select=s=>l("SelectPrompt",s),r.multiselect=s=>{s.choices=[].concat(s.choices||[]);const v=n=>n.filter(a=>a.selected).map(a=>a.value);return l("MultiselectPrompt",s,{onAbort:v,onSubmit:v})},r.autocompleteMultiselect=s=>{s.choices=[].concat(s.choices||[]);const v=n=>n.filter(a=>a.selected).map(a=>a.value);return l("AutocompleteMultiselectPrompt",s,{onAbort:v,onSubmit:v})};const g=(s,v)=>Promise.resolve(v.filter(n=>n.title.slice(0,s.length).toLowerCase()===s.toLowerCase()));r.autocomplete=s=>(s.suggest=s.suggest||g,s.choices=[].concat(s.choices||[]),l("AutocompletePrompt",s))}(_e)),_e}var ct,ji;function Hr(){if(ji)return ct;ji=1;const e=Yr(),r=["suggest","format","onState","validate","onRender","type"],h=()=>{};async function t(v=[],{onSubmit:n=h,onCancel:a=h}={}){const i={},c=t._override||{};v=[].concat(v);let p,o,u,y,m,f;const d=async(b,x,w=!1)=>{if(!(!w&&b.validate&&b.validate(x)!==!0))return b.format?await b.format(x,i):x};for(o of v)if({name:y,type:m}=o,typeof m=="function"&&(m=await m(p,{...i},o),o.type=m),!!m){for(let b in o){if(r.includes(b))continue;let x=o[b];o[b]=typeof x=="function"?await x(p,{...i},f):x}if(f=o,typeof o.message!="string")throw new Error("prompt message is required");if({name:y,type:m}=o,e[m]===void 0)throw new Error(`prompt type (${m}) is not defined`);if(c[o.name]!==void 0&&(p=await d(o,c[o.name]),p!==void 0)){i[y]=p;continue}try{p=t._injected?l(t._injected,o.initial):await e[m](o),i[y]=p=await d(o,p,!0),u=await n(o,p,i)}catch{u=!await a(o,i)}if(u)return i}return i}function l(v,n){const a=v.shift();if(a instanceof Error)throw a;return a===void 0?n:a}function g(v){t._injected=(t._injected||[]).concat(v)}function s(v){t._override=Object.assign({},v)}return ct=Object.assign(t,{prompt:t,prompts:e,inject:g,override:s}),ct}function Lr(e){e=(Array.isArray(e)?e:e.split(".")).map(Number);let r=0,h=process.versions.node.split(".").map(Number);for(;r<e.length;r++){if(h[r]>e[r])return!1;if(e[r]>h[r])return!0}return!1}var dt=Lr("8.6.0")?mr():Hr();const E={packageName:"npm-package-init",version:"1.0.0",language:"TS",description:"",entryPoint:"index.js",testCommand:"test",gitRegistry:"",author:"",license:""},Ai={projectName:"vite-vue3",gitRegistry:""};let G=!0;const W=typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{};let Ei=0;if(W.process&&W.process.env&&W.process.stdout){const{FORCE_COLOR:e,NODE_DISABLE_COLORS:r,TERM:h}=W.process.env;r||e==="0"?G=!1:e==="1"?G=!0:h==="dumb"?G=!1:"CI"in W.process.env&&["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(t=>t in W.process.env)?G=!0:G=process.stdout.isTTY,G&&(Ei=h&&h.endsWith("-256color")?2:1)}let ki={enabled:G,supportLevel:Ei};function J(e,r,h=1){const t=`\x1B[${e}m`,l=`\x1B[${r}m`,g=new RegExp(`\\x1b\\[${r}m`,"g");return s=>ki.enabled&&ki.supportLevel>=h?t+(""+s).replace(g,t)+l:""+s}const k=J(0,0),K=J(31,39),Fi=J(32,39),Ni=J(33,39),Yi=J(34,39),Vr=J(91,39),Hi=J(92,39);function Ur(e){return e?/^[1-9][0-9]*\.[0-9]+\.[0-9]+$/.test(e):!0}function Li(e){return/^(?:@[a-z\d\-*~][a-z\d\-*._~]*\/)?[a-z\d\-~][a-z\d\-._~]*$/.test(e)}function Br(e){return e?/^[a-zA-Z][a-zA-Z\-_0-9]+\.js$/.test(e):!0}function ft(e,r){V.statSync(e).isDirectory()?Gr(e,r):V.copyFileSync(e,r)}function Gr(e,r){V.mkdirSync(r,{recursive:!0});for(const h of V.readdirSync(e)){const t=A.resolve(e,h),l=A.resolve(r,h);ft(t,l)}}function Jr(e,r){e.name=r.packageName,e.version=r.version,e.main=r.entryPoint,e.description=r.description;const h=`create-${r.packageName}`;e.bin={[h]:r.entryPoint},e.repository.url=r.gitRegistry,e.author=r.author,e.license=r.license,e.scripts.pr=`npm run build && node ${r.entryPoint}`}function zr(e,r){e.name=r.projectName,e.repository.url=r.gitRegistry}function Wr(e){return e?/^(https\:\/\/|ssh\:\/\/).*/i.test(e):!1}const Zr=[{name:"ts",display:"TS",color:Yi}],Kr=[{name:"ISC",display:"ISC",color:Ni},{name:"MIT",display:"MIT",color:Hi}],Xr=[{type:"text",name:"packageName",message:k("Package name: "),initial:E.packageName,validate:e=>Li(e)||"Invalid package.json name"},{type:"text",name:"version",message:k("version: (1.0.0)"),initial:E.version,validate:e=>Ur(e)||"Invalid init version"},{type:"select",name:"language",message:k("language: "),initial:0,choices:Zr.map(e=>{const r=e.color;return{title:r(e.display||e.name),value:e}})},{type:"text",name:"description",message:k("description: "),initial:E.description,onState:e=>e.value||E.packageName},{type:"text",name:"entryPoint",message:k("entryPoint: "),initial:E.entryPoint,validate:e=>Br(e)||"Invalid init entryPoint"},{type:"text",name:"testCommand",message:k("testCommand: "),initial:E.testCommand,onState:e=>e.value||E.testCommand},{type:"text",name:"gitRegistry",message:k("gitRegistry: "),initial:E.gitRegistry,onState:e=>e.value||E.gitRegistry},{type:"text",name:"author",message:k("author: "),initial:E.author,onState:e=>e.value||E.author},{type:"select",name:"license",message:k("license: "),initial:0,choices:Kr.map(e=>{const r=e.color;return{title:r(e.display||e.name),value:e}})}];function Qr(e,r,h){const t={...e,language:e.language.display,license:e.license.display};console.log(t);const l=A.join(r,t.packageName);V.mkdirSync(l,{recursive:!0});const g=A.resolve(h,"../..",`npm-package-${t.language.toLocaleLowerCase()}`),s=(a,i)=>{const c=A.join(l,a);i?V.writeFileSync(c,i):ft(A.join(g,a),c)},v=V.readdirSync(g);for(const a of v.filter(i=>i!=="package.json"))s(a);s(t.entryPoint||E.entryPoint,`#!/usr/bin/env node

import './dist/index.js'`);const n=JSON.parse(V.readFileSync(A.join(g,"package.json"),"utf-8"));Jr(n,t),s("package.json",JSON.stringify(n,null,2)),console.log(Fi(`
Done. Now run: 
`)),l!==r&&(console.log(` cd ${A.relative(r,l)}`),console.log(" npm install"),console.log(" npm run prev")),console.log()}const es=[{type:"text",name:"projectName",message:k("Package name: "),initial:Ai.projectName,validate:e=>Li(e)||"Invalid package.json name"},{type:"text",name:"gitRegistry",message:k("gitRegistry: "),initial:Ai.gitRegistry,validate:e=>Wr(e)||"Invalid gitRegistry"}];function ts(e,r,h){const t={...e};console.log(t);const l=A.join(r,t.projectName);Z.mkdirSync(l,{recursive:!0});const g=A.resolve(h,"../..","vite-vue3"),s=(a,i)=>{const c=A.join(l,a);i?Z.writeFileSync(c,i):ft(A.join(g,a),c)},v=Z.readdirSync(g);for(const a of v.filter(i=>i!=="package.json"))s(a);const n=JSON.parse(Z.readFileSync(A.join(g,"package.json"),"utf-8"));zr(n,t),s("package.json",JSON.stringify(n,null,2)),console.log(Fi(`
Done. Now run: 
`)),l!==r&&(console.log(` cd ${A.relative(r,l)}`),console.log(" npm i"),console.log(" npm run d")),console.log()}const Vi=process.cwd(),is=[{name:"npmPackage",display:"npmPackage",color:Vr},{name:"vsCodePlugin",display:"vsCodePlugin",color:Yi},{name:"vitePlugin",display:"vitePlugin",color:Hi},{name:"vue3Vite",display:"vue3Vite",color:Ni}];async function rs(){let e;try{e=await dt([{type:"select",name:"projectType",message:k("please select the project type you want to create"),initial:0,choices:is.map(h=>{const t=h.color;return{title:t(h.display||h.name),value:h}})}])}catch(h){console.log(h.message);return}const r=e.projectType.name;if(r==="npmPackage"){let h;try{h=await dt(Xr,{onCancel:()=>{throw new Error(K("OP cancel"))}})}catch(t){console.log(t.message);return}Qr(h,Vi,mt(import.meta.url))}else if(r==="vsCodePlugin")console.log(K("developing\xB7\xB7\xB7")),bt(1);else if(r==="vitePlugin")console.log(K("developing\xB7\xB7\xB7")),bt(1);else if(r==="vue3Vite"){let h;try{h=await dt(es,{onCancel:()=>{throw new Error(K("OP cancel"))}})}catch(t){console.log(t.message);return}ts(h,Vi,mt(import.meta.url))}}rs().catch(e=>{console.log(e)});
